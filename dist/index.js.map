{"version":3,"file":"index.js","sources":["../src/components.ts","../src/program.ts","../src/index.ts"],"sourcesContent":["import { singleQuote } from '@tarojs/shared'\n\nexport const components = {\n  // ======== 额外组件 ========\n  OpenAvatar: {\n    'userId': '',\n    'openId': '',\n    'nickName': '',\n    'avatar': '',\n    'size': singleQuote('normal')\n  }\n}\n","import { Alipay } from '@tarojs/plugin-platform-alipay'\nimport { components } from './components'\n\nconst PACKAGE_NAME = '@tarojs/plugin-platform-alipay-dd'\n\nexport default class DD extends Alipay {\n  platform = 'dd'\n  runtimePath = `${PACKAGE_NAME}/dist/runtime`\n  taroComponentsPath = `${PACKAGE_NAME}/dist/components-react`\n\n  /**\n   * 1. setupTransaction - init\n   * 2. setup\n   * 3. setupTransaction - close\n   * 4. buildTransaction - init\n   * 5. build\n   * 6. buildTransaction - close\n   */\n  constructor (ctx, config) {\n    super(ctx, config)\n\n    this.setupTransaction.addWrapper({\n      close: this.modifyTemplate\n    })\n  }\n\n  /**\n   * 增加组件或修改组件属性\n   */\n  modifyTemplate () {\n    // 处理钉钉与支付宝的组件差异\n    this.template.mergeComponents(this.ctx, components)\n  }\n}\n","import DD from './program'\nimport type { IPluginContext } from '@tarojs/service'\n\nexport default (ctx: IPluginContext) => {\n  ctx.registerPlatform({\n    name: 'dd',\n    useConfigName: 'mini',\n    async fn ({ config }) {\n      const program = new DD(ctx, config)\n      await program.start()\n    }\n  })\n}\n"],"names":["singleQuote","Alipay"],"mappings":";;;;;;;AAEO,MAAM,UAAU,GAAG;;IAExB,UAAU,EAAE;QACV,QAAQ,EAAE,EAAE;QACZ,QAAQ,EAAE,EAAE;QACZ,UAAU,EAAE,EAAE;QACd,QAAQ,EAAE,EAAE;QACZ,MAAM,EAAEA,kBAAW,CAAC,QAAQ,CAAC;KAC9B;CACF;;ACRD,MAAM,YAAY,GAAG,mCAAmC,CAAA;MAEnC,EAAG,SAAQC,2BAAM;;;;;;;;;IAapC,YAAa,GAAG,EAAE,MAAM;QACtB,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;QAbpB,aAAQ,GAAG,IAAI,CAAA;QACf,gBAAW,GAAG,GAAG,YAAY,eAAe,CAAA;QAC5C,uBAAkB,GAAG,GAAG,YAAY,wBAAwB,CAAA;QAa1D,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;YAC/B,KAAK,EAAE,IAAI,CAAC,cAAc;SAC3B,CAAC,CAAA;KACH;;;;IAKD,cAAc;;QAEZ,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAA;KACpD;;;AC7BH,YAAe,CAAC,GAAmB;IACjC,GAAG,CAAC,gBAAgB,CAAC;QACnB,IAAI,EAAE,IAAI;QACV,aAAa,EAAE,MAAM;QACrB,MAAM,EAAE,CAAE,EAAE,MAAM,EAAE;YAClB,MAAM,OAAO,GAAG,IAAI,EAAE,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;YACnC,MAAM,OAAO,CAAC,KAAK,EAAE,CAAA;SACtB;KACF,CAAC,CAAA;AACJ,CAAC;;;;"}